---
title: "Vironとgoaでフロントのコード0でリソースの管理画面を作る"
date: 2018-02-09T19:26:28+09:00
tags: ["golang", "goa", "viron"]
---

社内向けの管理画面を新しく作る機会があり、先日話題になっていた[Viron](https://cam-inc.github.io/viron-doc/)を使ってみることにしました。
Vironはフロントのコードを書かずにOpenAPIに則ったAPIがあれば管理画面を作ることが出来ます。
また[goa](https://goa.design/)を使って`swagger.json`を自動で生成させ、それを喰わせることによって管理画面を簡単に作って行きます。
本家はバックエンドはNodeJSでやっているようですが、どうしても色々考えるとGoで書きたい人なので頑張っていきました。

サンプルとして書いたコードをGithubにあげました。

https://github.com/yudppp/viron-goa

色々考えたのですがViron本体のコードは雑なセルフホスティングしています。

READMEにしたがって起動しログインします。(アイパスは空文字以外であればログインできます)

フロントのコードは書かずにリソースのリストが出てきました。
またRowについての更新処理や削除の処理がAPIを実装していれば行えます。

![](/img/posts/viron.png)


![](/img/posts/viron-update.png)

そもそもgoaも以前趣味で簡単なアプリケーション作ったくらいで詳しくなかったのでjwtのミドルウェア周りとsigininのAPIの実装あたりにやたらハマりフロントもフルスクラッチで自分で実装した方が速いんではないかと言う時期もありました。(1日くらい)

一度認証周りの実装を済ませてしまうと基本的なCRUD処理を行うリソースの追加が簡単に行えるようになりました。

大体検討開始から1週間で主なbaseの実装といくつかのリソースの管理のAPIの実装とDockerizeするとこまで出来ました。
今後実装すべきことしては権限管理とオートコンプリートのフォームの実装をしたいのですが、フロント側は既に実装されているそうなので追ってサーバーを実装して行くことによって簡単に使えるようになりそうです。